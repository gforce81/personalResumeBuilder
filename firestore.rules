rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    // Helper function to check if user is an admin
    function isAdmin() {
      // List of authorized admin email addresses
      // IMPORTANT: Update this list to match ADMIN_EMAILS in src/lib/firebase.js
      let adminEmails = ['your-email@example.com'];
      return request.auth != null && 
             request.auth.token.email.lower() in adminEmails;
    }
    
    // Resume data - public read, admin-only write
    match /resume/{document=**} {
      allow read: if true; // Public can view resume
      allow write: if isAdmin(); // Only admins can edit
    }
    
    // Settings - admin only
    match /settings/{document=**} {
      allow read, write: if isAdmin();
    }
  }
}

